{"version":3,"sources":["assets/icons/logo-2.svg","serviceWorker.js","Login/styles.js","Login/login.js","Signup/styles.js","Signup/signup.js","assets/icons/back.svg","NewChat/styles.js","NewChat/newChat.js","ChatList/styles.js","assets/icons/unread.svg","ChatList/chatList.js","ChatView/styles.js","ChatView/chatView.js","ChatTextBox/styles.js","ChatTextBox/chatTextBox.js","Dashboard/styles.js","Dashboard/dashboard.js","index.js"],"names":["module","exports","__webpack_require__","p","Boolean","window","location","hostname","match","styles","theme","main","Object","defineProperty","width","display","marginLeft","spacing","unit","marginRight","breakpoints","up","paper","marginTop","flexDirection","alignItems","padding","concat","form","submit","noAccountHeader","signUpLink","textDecoration","color","fontWeight","errorText","textAlign","firebase","require","LoginComponent","_this","classCallCheck","this","possibleConstructorReturn","getPrototypeOf","call","userTyping","whichInput","event","setState","email","target","value","password","submitLogin","_ref","asyncToGenerator","regenerator_default","a","mark","_callee","e","wrap","_context","prev","next","preventDefault","auth","signInWithEmailAndPassword","state","then","props","history","push","err","serverError","console","log","stop","_x","apply","arguments","_this2","classes","react_default","createElement","className","CssBaseline_default","Paper_default","Typography_default","component","variant","onSubmit","FormControl_default","required","fullWidth","margin","InputLabel_default","htmlFor","Input_default","autoComplete","autoFocus","onChange","id","type","Button_default","react_router_dom","to","React","Component","withStyles","hasAccountHeader","logInLink","SignupComponent","passwordConfirmation","formIsValid","submitSignup","createUserWithEmailAndPassword","authRes","userObj","user","friends","messages","firestore","collection","doc","set","dbErr","signupError","authErr","_extends","assign","i","length","source","key","prototype","hasOwnProperty","_objectWithoutProperties","excluded","sourceKeys","keys","indexOf","_objectWithoutPropertiesLoose","getOwnPropertySymbols","sourceSymbolKeys","propertyIsEnumerable","back_ref2","d","back_ref3","back_ref4","back_ref5","_ref6","_ref7","_ref8","_ref9","_ref10","_ref11","_ref12","_ref13","_ref14","_ref15","_ref16","_ref17","back_SvgBack","svgRef","x","y","viewBox","style","enableBackground","xmlSpace","ref","ForwardRef","forwardRef","input","NewChatComponent","inputType","username","message","submitNewChat","userExists","sent","chatExists","goToChat","createChat","buildDocKey","currentUser","sort","join","newChatSubmitFn","sendTo","goToChatFn","_callee2","docKey","chat","_context2","get","exists","abrupt","_callee3","usersSnapshot","_context3","docs","map","_doc","data","includes","onClick","reload","index_es","root","listItem","cursor","newChatBtn","borderRadius","unreadMessage","position","top","right","unread_extends","unread_objectWithoutProperties","unread_objectWithoutPropertiesLoose","unread_ref2","unread_ref3","unread_SvgUnread","unread_ForwardRef","ChatListComponent","userIsSender","sender","userEmail","newChat","newChatBtnFn","selectChat","index","selectChatFn","chats","List_default","_chat","_index","ListItem_default","selected","selectedChatIndex","ListItemAvatar_default","Avatar_default","alt","users","filter","_user","split","ListItemText_default","primary","secondary","Fragment","substring","receiverHasRead","ListItemIcon_default","Divider_default","content","ChatViewComponent","componentDidMount","container","document","getElementById","scrollTo","scrollHeight","componentDidUpdate","undefined","chatHeader","_usr","_msg","userSent","friendSent","sendBtn","&:hover","chatTextBoxContainer","chatTextBox","ChatTextBoxComponent","keyCode","submitMessage","chatText","messageValid","txt","replace","userClickedInput","userClickedInputFn","submitMessageFn","TextField_default","placeholder","onKeyUp","onFocus","Send_default","signOutBtn","DashboardComponent","signOut","msg","selectedChat","update","FieldValue","arrayUnion","timestamp","Date","now","friend","newChatBtnClicked","newChatFormVisible","newChatSubmit","chatObj","_ref2","chatIndex","messageRead","_x2","_ref3","usersInChat","find","every","_x3","_x4","clickedMessageWhereNotSender","componentWillMount","onAuthStateChanged","_ref4","_callee5","_context5","where","onSnapshot","_ref5","_callee4","res","_context4","_x6","_x5","chatList","chatView","initializeApp","apiKey","authDomain","databaseURL","projectId","storageBucket","messagingSenderId","appId","measurementId","routing","react_router","path","exact","src","logo","ReactDOM","render","navigator","serviceWorker","ready","registration","unregister"],"mappings":"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","file":"static/js/main.b9a606e2.chunk.js","sourcesContent":["module.exports = __webpack_public_path__ + \"static/media/logo-2.d404f3a3.svg\";","// This optional code is used to register a service worker.\n// register() is not called by default.\n\n// This lets the app load faster on subsequent visits in production, and gives\n// it offline capabilities. However, it also means that developers (and users)\n// will only see deployed updates on subsequent visits to a page, after all the\n// existing tabs open on the page have been closed, since previously cached\n// resources are updated in the background.\n\n// To learn more about the benefits of this model and instructions on how to\n// opt-in, read https://bit.ly/CRA-PWA\n\nconst isLocalhost = Boolean(\n  window.location.hostname === 'localhost' ||\n    // [::1] is the IPv6 localhost address.\n    window.location.hostname === '[::1]' ||\n    // 127.0.0.1/8 is considered localhost for IPv4.\n    window.location.hostname.match(\n      /^127(?:\\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/\n    )\n);\n\nexport function register(config) {\n  if (process.env.NODE_ENV === 'production' && 'serviceWorker' in navigator) {\n    // The URL constructor is available in all browsers that support SW.\n    const publicUrl = new URL(process.env.PUBLIC_URL, window.location.href);\n    if (publicUrl.origin !== window.location.origin) {\n      // Our service worker won't work if PUBLIC_URL is on a different origin\n      // from what our page is served on. This might happen if a CDN is used to\n      // serve assets; see https://github.com/facebook/create-react-app/issues/2374\n      return;\n    }\n\n    window.addEventListener('load', () => {\n      const swUrl = `${process.env.PUBLIC_URL}/service-worker.js`;\n\n      if (isLocalhost) {\n        // This is running on localhost. Let's check if a service worker still exists or not.\n        checkValidServiceWorker(swUrl, config);\n\n        // Add some additional logging to localhost, pointing developers to the\n        // service worker/PWA documentation.\n        navigator.serviceWorker.ready.then(() => {\n          console.log(\n            'This web app is being served cache-first by a service ' +\n              'worker. To learn more, visit https://bit.ly/CRA-PWA'\n          );\n        });\n      } else {\n        // Is not localhost. Just register service worker\n        registerValidSW(swUrl, config);\n      }\n    });\n  }\n}\n\nfunction registerValidSW(swUrl, config) {\n  navigator.serviceWorker\n    .register(swUrl)\n    .then(registration => {\n      registration.onupdatefound = () => {\n        const installingWorker = registration.installing;\n        if (installingWorker == null) {\n          return;\n        }\n        installingWorker.onstatechange = () => {\n          if (installingWorker.state === 'installed') {\n            if (navigator.serviceWorker.controller) {\n              // At this point, the updated precached content has been fetched,\n              // but the previous service worker will still serve the older\n              // content until all client tabs are closed.\n              console.log(\n                'New content is available and will be used when all ' +\n                  'tabs for this page are closed. See https://bit.ly/CRA-PWA.'\n              );\n\n              // Execute callback\n              if (config && config.onUpdate) {\n                config.onUpdate(registration);\n              }\n            } else {\n              // At this point, everything has been precached.\n              // It's the perfect time to display a\n              // \"Content is cached for offline use.\" message.\n              console.log('Content is cached for offline use.');\n\n              // Execute callback\n              if (config && config.onSuccess) {\n                config.onSuccess(registration);\n              }\n            }\n          }\n        };\n      };\n    })\n    .catch(error => {\n      console.error('Error during service worker registration:', error);\n    });\n}\n\nfunction checkValidServiceWorker(swUrl, config) {\n  // Check if the service worker can be found. If it can't reload the page.\n  fetch(swUrl)\n    .then(response => {\n      // Ensure service worker exists, and that we really are getting a JS file.\n      const contentType = response.headers.get('content-type');\n      if (\n        response.status === 404 ||\n        (contentType != null && contentType.indexOf('javascript') === -1)\n      ) {\n        // No service worker found. Probably a different app. Reload the page.\n        navigator.serviceWorker.ready.then(registration => {\n          registration.unregister().then(() => {\n            window.location.reload();\n          });\n        });\n      } else {\n        // Service worker found. Proceed as normal.\n        registerValidSW(swUrl, config);\n      }\n    })\n    .catch(() => {\n      console.log(\n        'No internet connection found. App is running in offline mode.'\n      );\n    });\n}\n\nexport function unregister() {\n  if ('serviceWorker' in navigator) {\n    navigator.serviceWorker.ready.then(registration => {\n      registration.unregister();\n    });\n  }\n}\n","const styles = theme => ({\r\n  main: {\r\n    width: 'auto',\r\n    display: 'block', // Fix IE 11 issue.\r\n    marginLeft: theme.spacing.unit,\r\n    marginRight: theme.spacing.unit,\r\n    [theme.breakpoints.up(400 + theme.spacing.unit * 3 * 2)]: {\r\n      width: 400,\r\n      marginLeft: 'auto',\r\n      marginRight: 'auto',\r\n    },\r\n  },\r\n  paper: {\r\n    marginTop: theme.spacing.unit * 8,\r\n    display: 'flex',\r\n    flexDirection: 'column',\r\n    alignItems: 'center',\r\n    padding: `${theme.spacing.unit * 2}px ${theme.spacing.unit * 3}px ${theme.spacing.unit * 3}px`,\r\n  },\r\n  form: {\r\n    width: '100%',\r\n    marginTop: theme.spacing.unit,\r\n  },\r\n  submit: {\r\n    marginTop: theme.spacing.unit * 3,\r\n  },\r\n  noAccountHeader: {\r\n    width: '100%'\r\n  },\r\n  signUpLink: {\r\n    width: '100%',\r\n    textDecoration: 'none',\r\n    color: '#303f9f',\r\n    fontWeight: 'bolder'\r\n  },\r\n  errorText: {\r\n    color: 'red',\r\n    textAlign: 'center'\r\n  }\r\n});\r\n\r\nexport default styles;\r\n","import { Link } from 'react-router-dom';\r\nimport React from 'react';\r\nimport styles from './styles';\r\nimport FormControl from '@material-ui/core/FormControl';\r\nimport InputLabel from '@material-ui/core/InputLabel';\r\nimport Input from '@material-ui/core/Input';\r\nimport Paper from '@material-ui/core/Paper';\r\nimport withStyles from '@material-ui/core/styles/withStyles';\r\nimport CssBaseline from '@material-ui/core/CssBaseline';\r\nimport Typography from '@material-ui/core/Typography';\r\nimport Button from '@material-ui/core/Button';\r\n\r\nconst firebase = require(\"firebase\");\r\n\r\nclass LoginComponent extends React.Component {\r\n\r\n  constructor() {\r\n    super();\r\n    this.state = {\r\n      email: null,\r\n      password: null,\r\n      serverError: false\r\n    };\r\n  }\r\n\r\n  render() {\r\n\r\n    const { classes } = this.props;\r\n\r\n    return (\r\n      <main className={classes.main}>\r\n        <CssBaseline/>\r\n        <Paper className={classes.paper}>\r\n          <Typography component=\"h1\" variant=\"h5\">\r\n            Log In!\r\n          </Typography>\r\n          <form onSubmit={(e) => this.submitLogin(e)} className={classes.form}>\r\n            <FormControl required fullWidth margin='normal'>\r\n              <InputLabel htmlFor='login-email-input'>Enter Your Email</InputLabel>\r\n              <Input autoComplete='email' autoFocus onChange={(e) => this.userTyping('email', e)} id='login-email-input'></Input>\r\n            </FormControl>\r\n            <FormControl required fullWidth margin='normal'>\r\n              <InputLabel htmlFor='login-password-input'>Enter Your Password</InputLabel>\r\n              <Input autoComplete=\"current-password\" type=\"password\" onChange={(e) => this.userTyping('password', e)} id='login-password-input'></Input>\r\n            </FormControl>\r\n            <Button type='submit' fullWidth variant='contained' color='primary' className={classes.submit}>Log In</Button>\r\n          </form>\r\n          { this.state.serverError ? \r\n            <Typography className={classes.errorText} component='h5' variant='h6'>\r\n              Incorrect Login Information\r\n            </Typography> :\r\n            null\r\n          }\r\n          <h5 className={classes.noAccountHeader}>Don't Have An Account?</h5>\r\n          <Link className={classes.signUpLink} to='/signup'>Sign Up!</Link>\r\n        </Paper>\r\n      </main>\r\n    );\r\n  }\r\n\r\n  userTyping = (whichInput, event) => {\r\n    switch (whichInput) {\r\n      case 'email':\r\n        this.setState({ email: event.target.value });\r\n        break;\r\n\r\n      case 'password':\r\n        this.setState({ password: event.target.value });\r\n        break;\r\n\r\n      default:\r\n        break;\r\n    }\r\n  }\r\n\r\n  submitLogin = async (e) => {\r\n    e.preventDefault(); // This is to prevent the automatic refreshing of the page on submit.\r\n\r\n    await firebase\r\n      .auth()\r\n      .signInWithEmailAndPassword(this.state.email, this.state.password)\r\n      .then(() => {\r\n        this.props.history.push('/dashboard');\r\n      }, err => {\r\n        this.setState({ serverError: true });\r\n        console.log('Error logging in: ', err);\r\n      });\r\n  };\r\n\r\n}\r\n\r\nexport default withStyles(styles)(LoginComponent);","const styles = theme => ({\r\n  main: {\r\n    width: 'auto',\r\n    display: 'block', // Fix IE 11 issue.\r\n    marginLeft: theme.spacing.unit,\r\n    marginRight: theme.spacing.unit,\r\n    [theme.breakpoints.up(400 + theme.spacing.unit * 3 * 2)]: {\r\n      width: 400,\r\n      marginLeft: 'auto',\r\n      marginRight: 'auto',\r\n    },\r\n  },\r\n  paper: {\r\n    marginTop: theme.spacing.unit * 8,\r\n    display: 'flex',\r\n    flexDirection: 'column',\r\n    alignItems: 'center',\r\n    padding: `${theme.spacing.unit * 2}px ${theme.spacing.unit * 3}px ${theme.spacing.unit * 3}px`,\r\n  },\r\n  form: {\r\n    width: '100%',\r\n    marginTop: theme.spacing.unit,\r\n  },\r\n  submit: {\r\n    marginTop: theme.spacing.unit * 3,\r\n  },\r\n  hasAccountHeader: {\r\n    width: '100%'\r\n  },\r\n  logInLink: {\r\n    width: '100%',\r\n    textDecoration: 'none',\r\n    color: '#303f9f',\r\n    fontWeight: 'bolder'\r\n  },\r\n  errorText: {\r\n    color: 'red',\r\n    textAlign: 'center'\r\n  }\r\n});\r\n\r\nexport default styles;\r\n","import { Link } from 'react-router-dom';\r\nimport React from 'react';\r\nimport styles from './styles';\r\nimport FormControl from '@material-ui/core/FormControl';\r\nimport InputLabel from '@material-ui/core/InputLabel';\r\nimport Input from '@material-ui/core/Input';\r\nimport Paper from '@material-ui/core/Paper';\r\nimport withStyles from '@material-ui/core/styles/withStyles';\r\nimport CssBaseline from '@material-ui/core/CssBaseline';\r\nimport Typography from '@material-ui/core/Typography';\r\nimport Button from '@material-ui/core/Button';\r\nconst firebase = require(\"firebase\");\r\n\r\nclass SignupComponent extends React.Component {\r\n\r\n  constructor() {\r\n    super();\r\n    this.state = {\r\n      email: null,\r\n      password: null,\r\n      passwordConfirmation: null,\r\n      signupError: ''\r\n    };\r\n  }\r\n\r\n  render() {\r\n\r\n    const { classes } = this.props;\r\n\r\n    return (\r\n      <main className={classes.main}>\r\n        <CssBaseline/>\r\n        <Paper className={classes.paper}>\r\n          <Typography component=\"h1\" variant=\"h5\">\r\n            Sign Up!\r\n          </Typography>\r\n          <form onSubmit={(e) => this.submitSignup(e)} className={classes.form}>\r\n            <FormControl required fullWidth margin='normal'>\r\n              <InputLabel htmlFor='signup-email-input'>Enter Your Email</InputLabel>\r\n              <Input autoComplete='email' autoFocus onChange={(e) => this.userTyping('email', e)} id='signup-email-input'></Input>\r\n            </FormControl>\r\n            <FormControl required fullWidth margin='normal'>\r\n              <InputLabel htmlFor='signup-password-input'>Create A Password</InputLabel>\r\n              <Input type=\"password\" onChange={(e) => this.userTyping('password', e)} id='signup-password-input'></Input>\r\n            </FormControl>\r\n            <FormControl required fullWidth margin='normal'>\r\n              <InputLabel htmlFor='signup-password-confirmation-input'>Confirm Your Password</InputLabel>\r\n              <Input type=\"password\" onChange={(e) => this.userTyping('passwordConfirmation', e)} id='signup-password-confirmation-input'></Input>\r\n            </FormControl>\r\n            <Button type='submit' fullWidth variant='contained' color='primary' className={classes.submit}>Submit</Button>\r\n          </form>\r\n          { \r\n            this.state.signupError ? \r\n            <Typography className={classes.errorText} component='h5' variant='h6'>\r\n              {this.state.signupError}\r\n            </Typography> :\r\n            null\r\n          }\r\n          <h5 className={classes.hasAccountHeader}>Already Have An Account?</h5>\r\n          <Link className={classes.logInLink} to='/login'>Log In!</Link>\r\n        </Paper>\r\n      </main>\r\n    );\r\n  }\r\n\r\n  userTyping = (whichInput, event) => {\r\n    switch (whichInput) {\r\n      case 'email':\r\n        this.setState({ email: event.target.value });\r\n        break;\r\n\r\n      case 'password':\r\n        this.setState({ password: event.target.value });\r\n        break;\r\n\r\n      case 'passwordConfirmation':\r\n        this.setState({ passwordConfirmation: event.target.value });\r\n        break;\r\n\r\n      default:\r\n        break;\r\n    }\r\n  }\r\n\r\n  formIsValid = () => this.state.password === this.state.passwordConfirmation;\r\n\r\n  submitSignup = (e) => {\r\n    e.preventDefault(); // This is to prevent the automatic refreshing of the page on submit.\r\n\r\n    if(!this.formIsValid()) {\r\n      this.setState({ signupError: 'Passwords do not match' });\r\n      return;\r\n    }\r\n\r\n    firebase\r\n      .auth()\r\n      .createUserWithEmailAndPassword(this.state.email, this.state.password)\r\n      .then(authRes => {\r\n        const userObj = {\r\n          email: authRes.user.email,\r\n          friends: [],\r\n          messages: []\r\n        };\r\n        firebase\r\n          .firestore()\r\n          .collection('users')\r\n          .doc(this.state.email)\r\n          .set(userObj)\r\n          .then(() => {\r\n            this.props.history.push('/dashboard');\r\n        }, dbErr => {\r\n          console.log('Failed to add user to the database: ', dbErr);\r\n          this.setState({ signupError: 'Failed to add user' });\r\n        });\r\n    }, authErr => {\r\n      console.log('Failed to create user: ', authErr);\r\n      this.setState({ signupError: 'Failed to add user' });\r\n    });\r\n  };\r\n}\r\n\r\nexport default withStyles(styles)(SignupComponent);","function _extends() { _extends = Object.assign || function (target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i]; for (var key in source) { if (Object.prototype.hasOwnProperty.call(source, key)) { target[key] = source[key]; } } } return target; }; return _extends.apply(this, arguments); }\n\nfunction _objectWithoutProperties(source, excluded) { if (source == null) return {}; var target = _objectWithoutPropertiesLoose(source, excluded); var key, i; if (Object.getOwnPropertySymbols) { var sourceSymbolKeys = Object.getOwnPropertySymbols(source); for (i = 0; i < sourceSymbolKeys.length; i++) { key = sourceSymbolKeys[i]; if (excluded.indexOf(key) >= 0) continue; if (!Object.prototype.propertyIsEnumerable.call(source, key)) continue; target[key] = source[key]; } } return target; }\n\nfunction _objectWithoutPropertiesLoose(source, excluded) { if (source == null) return {}; var target = {}; var sourceKeys = Object.keys(source); var key, i; for (i = 0; i < sourceKeys.length; i++) { key = sourceKeys[i]; if (excluded.indexOf(key) >= 0) continue; target[key] = source[key]; } return target; }\n\nimport React from \"react\";\n\nvar _ref2 =\n/*#__PURE__*/\nReact.createElement(\"g\", null, React.createElement(\"g\", null, React.createElement(\"path\", {\n  d: \"M198.608,246.104L382.664,62.04c5.068-5.056,7.856-11.816,7.856-19.024c0-7.212-2.788-13.968-7.856-19.032l-16.128-16.12 C361.476,2.792,354.712,0,347.504,0s-13.964,2.792-19.028,7.864L109.328,227.008c-5.084,5.08-7.868,11.868-7.848,19.084 c-0.02,7.248,2.76,14.028,7.848,19.112l218.944,218.932c5.064,5.072,11.82,7.864,19.032,7.864c7.208,0,13.964-2.792,19.032-7.864 l16.124-16.12c10.492-10.492,10.492-27.572,0-38.06L198.608,246.104z\"\n})));\n\nvar _ref3 =\n/*#__PURE__*/\nReact.createElement(\"g\", null);\n\nvar _ref4 =\n/*#__PURE__*/\nReact.createElement(\"g\", null);\n\nvar _ref5 =\n/*#__PURE__*/\nReact.createElement(\"g\", null);\n\nvar _ref6 =\n/*#__PURE__*/\nReact.createElement(\"g\", null);\n\nvar _ref7 =\n/*#__PURE__*/\nReact.createElement(\"g\", null);\n\nvar _ref8 =\n/*#__PURE__*/\nReact.createElement(\"g\", null);\n\nvar _ref9 =\n/*#__PURE__*/\nReact.createElement(\"g\", null);\n\nvar _ref10 =\n/*#__PURE__*/\nReact.createElement(\"g\", null);\n\nvar _ref11 =\n/*#__PURE__*/\nReact.createElement(\"g\", null);\n\nvar _ref12 =\n/*#__PURE__*/\nReact.createElement(\"g\", null);\n\nvar _ref13 =\n/*#__PURE__*/\nReact.createElement(\"g\", null);\n\nvar _ref14 =\n/*#__PURE__*/\nReact.createElement(\"g\", null);\n\nvar _ref15 =\n/*#__PURE__*/\nReact.createElement(\"g\", null);\n\nvar _ref16 =\n/*#__PURE__*/\nReact.createElement(\"g\", null);\n\nvar _ref17 =\n/*#__PURE__*/\nReact.createElement(\"g\", null);\n\nvar SvgBack = function SvgBack(_ref) {\n  var svgRef = _ref.svgRef,\n      props = _objectWithoutProperties(_ref, [\"svgRef\"]);\n\n  return React.createElement(\"svg\", _extends({\n    id: \"Layer_1\",\n    x: \"0px\",\n    y: \"0px\",\n    viewBox: \"0 0 492 492\",\n    style: {\n      enableBackground: \"new 0 0 492 492\"\n    },\n    xmlSpace: \"preserve\",\n    ref: svgRef\n  }, props), _ref2, _ref3, _ref4, _ref5, _ref6, _ref7, _ref8, _ref9, _ref10, _ref11, _ref12, _ref13, _ref14, _ref15, _ref16, _ref17);\n};\n\nvar ForwardRef = React.forwardRef(function (props, ref) {\n  return React.createElement(SvgBack, _extends({\n    svgRef: ref\n  }, props));\n});\nexport default __webpack_public_path__ + \"static/media/back.6c9efe0c.svg\";\nexport { ForwardRef as ReactComponent };","const styles = theme => ({\r\n  main: {\r\n    // width: 'auto',\r\n    // display: 'block', // Fix IE 11 issue.\r\n    // marginLeft: theme.spacing.unit * 3,\r\n    // marginRight: theme.spacing.unit * 3,\r\n    // [theme.breakpoints.up(400 + theme.spacing.unit * 3 * 2)]: {\r\n    //   width: 400,\r\n    //   marginLeft: 'auto',\r\n    //   marginRight: 'auto',\r\n    // },\r\n  },\r\n  paper: {\r\n    // padding: `${theme.spacing.unit * 2}px ${theme.spacing.unit * 3}px ${theme.spacing.unit * 3}px`,\r\n    // position: 'absolute',\r\n    // width: '350px',\r\n    // top: '50px',\r\n    // left: 'calc(50% + 150px - 175px)'\r\n  },\r\n  input: {\r\n  },\r\n  form: {\r\n    width: '100%',\r\n    marginTop: theme.spacing.unit,\r\n  },\r\n  submit: {\r\n    marginTop: theme.spacing.unit * 3\r\n  },\r\n  errorText: {\r\n    color: 'red',\r\n    textAlign: 'center'\r\n  }\r\n});\r\n\r\nexport default styles;\r\n","import React from 'react';\r\nimport { Link } from 'react-router-dom';\r\nimport { ReactComponent as Back } from '../assets/icons/back.svg';\r\nimport { FormControl, InputLabel, Input, Button, Paper, withStyles, CssBaseline, Typography } from '@material-ui/core';\r\nimport styles from './styles';\r\nimport '../assets/scss/newchat.scss';\r\nconst firebase = require(\"firebase\");\r\n\r\nclass NewChatComponent extends React.Component {\r\n\r\n  constructor() {\r\n    super();\r\n    this.state = {\r\n      username: null,\r\n      message: null\r\n    };\r\n  }\r\n\r\n  render() {\r\n\r\n    function refreshPage(){\r\n        window.location.reload(false);\r\n    }\r\n\r\n    const { classes } = this.props;\r\n\r\n    return(\r\n      <main id=\"newChat\" className={classes.main}>\r\n      <div className=\"chatBack\"><Link onClick={refreshPage}><Back/></Link></div>\r\n      <div id=\"chatHeader\"></div>\r\n        <CssBaseline/>\r\n        <Paper id=\"paper\" className={classes.paper}>\r\n          <Typography component=\"h1\" variant=\"h5\">Send A Message!</Typography>\r\n          <form className={classes.form} onSubmit={(e) => this.submitNewChat(e)}>\r\n            <FormControl fullWidth>\r\n              <InputLabel htmlFor='new-chat-username'>\r\n                  Enter Your Friend's Email\r\n              </InputLabel>\r\n              <Input required\r\n                className={classes.input}\r\n                autoFocus\r\n                onChange={(e) => this.userTyping('username', e)}\r\n                id='new-chat-username'>\r\n              </Input>\r\n            </FormControl>\r\n            <FormControl fullWidth>\r\n              <InputLabel htmlFor='new-chat-message'>\r\n                  Enter Your Message\r\n              </InputLabel>\r\n              <Input required\r\n                className={classes.input}\r\n                onChange={(e) => this.userTyping('message', e)}\r\n                id='new-chat-message'>\r\n              </Input>\r\n            </FormControl>\r\n            <Button fullWidth variant='contained' color='primary' className={classes.submit} type='submit'>Send</Button>\r\n          </form>\r\n          {\r\n            this.state.serverError ?\r\n            <Typography component='h5' variant='h6' className={classes.errorText}>\r\n              Unable to locate the user\r\n            </Typography> :\r\n            null\r\n          }\r\n        </Paper>\r\n      </main>\r\n    );\r\n  }\r\n\r\n  componentWillMount() {\r\n    if(!firebase.auth().currentUser)\r\n      this.props.history.push('/login');\r\n  }\r\n\r\n  userTyping = (inputType, e) => {\r\n    switch (inputType) {\r\n      case 'username':\r\n        this.setState({ username: e.target.value });\r\n        break;\r\n\r\n      case 'message':\r\n        this.setState({ message: e.target.value });\r\n        break;\r\n\r\n      default:\r\n        break;\r\n    }\r\n  }\r\n\r\n  submitNewChat = async (e) => {\r\n    e.preventDefault();\r\n    const userExists = await this.userExists();\r\n    if(userExists) {\r\n      const chatExists = await this.chatExists();\r\n      chatExists ? this.goToChat() : this.createChat();\r\n    }\r\n  }\r\n\r\n  buildDocKey = () => [firebase.auth().currentUser.email, this.state.username].sort().join(':');\r\n\r\n  createChat = () => {\r\n    this.props.newChatSubmitFn({\r\n      sendTo: this.state.username,\r\n      message: this.state.message\r\n    });\r\n  }\r\n\r\n  goToChat = () => this.props.goToChatFn(this.buildDocKey(), this.state.message);\r\n\r\n  chatExists = async () => {\r\n    const docKey = this.buildDocKey();\r\n    const chat = await\r\n      firebase\r\n      .firestore()\r\n      .collection('chats')\r\n      .doc(docKey)\r\n      .get();\r\n    console.log(chat.exists);\r\n    return chat.exists;\r\n  }\r\n  userExists = async () => {\r\n    const usersSnapshot = await\r\n    firebase\r\n      .firestore()\r\n      .collection('users')\r\n      .get();\r\n    const exists = usersSnapshot\r\n      .docs\r\n        .map(_doc => _doc.data().email)\r\n        .includes(this.state.username);\r\n    this.setState({ serverError: !exists });\r\n    return exists;\r\n  }\r\n}\r\n\r\nexport default withStyles(styles)(NewChatComponent);\r\n","const styles = theme => ({\r\n  root: {\r\n    // backgroundColor: theme.palette.background.paper,\r\n    // height: 'calc(100% - 35px)',\r\n    // position: 'absolute',\r\n    // left: '0',\r\n    // width: '300px',\r\n    // boxShadow: '0px 0px 2px black'\r\n  },\r\n  listItem: {\r\n    cursor: 'pointer'\r\n  },\r\n  newChatBtn: {\r\n    borderRadius: '0px'\r\n  },\r\n  unreadMessage: {\r\n    color: 'red',\r\n    position: 'absolute',\r\n    top: '0',\r\n    right: '5px'\r\n  }\r\n});\r\n\r\nexport default styles;\r\n","function _extends() { _extends = Object.assign || function (target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i]; for (var key in source) { if (Object.prototype.hasOwnProperty.call(source, key)) { target[key] = source[key]; } } } return target; }; return _extends.apply(this, arguments); }\n\nfunction _objectWithoutProperties(source, excluded) { if (source == null) return {}; var target = _objectWithoutPropertiesLoose(source, excluded); var key, i; if (Object.getOwnPropertySymbols) { var sourceSymbolKeys = Object.getOwnPropertySymbols(source); for (i = 0; i < sourceSymbolKeys.length; i++) { key = sourceSymbolKeys[i]; if (excluded.indexOf(key) >= 0) continue; if (!Object.prototype.propertyIsEnumerable.call(source, key)) continue; target[key] = source[key]; } } return target; }\n\nfunction _objectWithoutPropertiesLoose(source, excluded) { if (source == null) return {}; var target = {}; var sourceKeys = Object.keys(source); var key, i; for (i = 0; i < sourceKeys.length; i++) { key = sourceKeys[i]; if (excluded.indexOf(key) >= 0) continue; target[key] = source[key]; } return target; }\n\nimport React from \"react\";\n\nvar _ref2 =\n/*#__PURE__*/\nReact.createElement(\"style\", {\n  type: \"text/css\"\n}, \"\\n\\t.st0{fill:#E50058;}\\n\");\n\nvar _ref3 =\n/*#__PURE__*/\nReact.createElement(\"path\", {\n  id: \"chat\",\n  className: \"st0\",\n  d: \"M64.9,0C29.1,0,0,29,0,64.8c0,16.6,6.3,32.5,17.7,44.5l-1,20.4c-0.1,1.7,1.2,3.1,2.8,3.2c0,0,0,0,0,0 c0.4,0,0.8,0,1.2-0.2l21.3-7.1c33.6,12.6,71-4.4,83.6-37.9s-4.4-71-37.9-83.6C80.3,1.4,72.6,0,64.9,0z\"\n});\n\nvar SvgUnread = function SvgUnread(_ref) {\n  var svgRef = _ref.svgRef,\n      props = _objectWithoutProperties(_ref, [\"svgRef\"]);\n\n  return React.createElement(\"svg\", _extends({\n    id: \"logo\",\n    x: \"0px\",\n    y: \"0px\",\n    viewBox: \"0 0 129.8 132.9\",\n    style: {\n      enableBackground: \"new 0 0 129.8 132.9\"\n    },\n    xmlSpace: \"preserve\",\n    ref: svgRef\n  }, props), _ref2, _ref3);\n};\n\nvar ForwardRef = React.forwardRef(function (props, ref) {\n  return React.createElement(SvgUnread, _extends({\n    svgRef: ref\n  }, props));\n});\nexport default __webpack_public_path__ + \"static/media/unread.588a943e.svg\";\nexport { ForwardRef as ReactComponent };","import React from 'react';\r\nimport { withStyles } from '@material-ui/core/styles';\r\nimport List from '@material-ui/core/List';\r\nimport ListItem from '@material-ui/core/ListItem';\r\nimport ListItemText from '@material-ui/core/ListItemText';\r\nimport ListItemAvatar from '@material-ui/core/ListItemAvatar';\r\nimport Avatar from '@material-ui/core/Avatar';\r\nimport Typography from '@material-ui/core/Typography';\r\nimport styles from './styles';\r\nimport '../assets/scss/chatlist.scss';\r\nimport Divider from '@material-ui/core/Divider';\r\nimport Button from '@material-ui/core/Button';\r\nimport ListItemIcon from '@material-ui/core/ListItemIcon';\r\nimport { ReactComponent as NotificationImportant } from '../assets/icons/unread.svg';\r\n\r\n\r\nclass ChatListComponent extends React.Component {\r\n\r\n  render() {\r\n\r\n    const { classes } = this.props;\r\n\r\n    if(this.props.chats.length > 0) {\r\n      return(\r\n        <div className=\"ChatListComponent\">\r\n            <Button variant=\"contained\"\r\n              fullWidth\r\n              color='primary'\r\n              onClick={this.newChat}\r\n              className={classes.newChatBtn}>\r\n                New Message\r\n            </Button>\r\n            <List>\r\n              {\r\n                this.props.chats.map((_chat, _index) => {\r\n                  return (\r\n                    <div key={_index}>\r\n                      <ListItem onClick={() => this.selectChat(_index)}\r\n                        className={classes.listItem}\r\n                        selected={this.props.selectedChatIndex === _index}\r\n                        alignItems=\"flex-start\">\r\n                        <ListItemAvatar>\r\n                          <Avatar alt=\"Remy Sharp\">{_chat.users.filter(_user => _user !== this.props.userEmail)[0].split('')[0]}</Avatar>\r\n                        </ListItemAvatar>\r\n                        <ListItemText\r\n                          primary={_chat.users.filter(_user => _user !== this.props.userEmail)[0]}\r\n                          secondary={\r\n                            <React.Fragment>\r\n                              <Typography component='span'\r\n                                color='textPrimary'>\r\n                                  {_chat.messages[_chat.messages.length - 1].message.substring(0, 30) + ' ...'}\r\n                              </Typography>\r\n                            </React.Fragment>\r\n                          }/>\r\n                          {\r\n                            _chat.receiverHasRead === false && !this.userIsSender(_chat) ?\r\n                            <ListItemIcon><NotificationImportant id=\"unreadMessage\" className={classes.unreadMessage}></NotificationImportant></ListItemIcon> :\r\n                            null\r\n                          }\r\n                      </ListItem>\r\n                      <Divider/>\r\n                    </div>\r\n                  )\r\n                })\r\n              }\r\n            </List>\r\n        </div>\r\n      );\r\n    } else {\r\n      return(\r\n        <div className={classes.root}>\r\n          <Button variant=\"contained\"\r\n            fullWidth\r\n            color='primary'\r\n            onClick={this.newChat}\r\n            className={classes.newChatBtn}>\r\n              New Message\r\n          </Button>\r\n          <List></List>\r\n        </div>\r\n      );\r\n    }\r\n  }\r\n  userIsSender = (chat) => chat.messages[chat.messages.length - 1].sender === this.props.userEmail;\r\n  newChat = () => this.props.newChatBtnFn();\r\n  selectChat = (index) => this.props.selectChatFn(index);\r\n}\r\n\r\nexport default withStyles(styles)(ChatListComponent);\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n// import React from 'react';\r\n// import './chatList.css';\r\n\r\n// class ChatListComponent extends React.Component {\r\n//   render() {\r\n//     if(this.props.chats.length > 0) {\r\n//       return(\r\n//         <div className='chat-list-container'>\r\n//           <button onClick={this.newChat} className='add-new-chat-button'>New Message</button>\r\n//           {\r\n//             this.props.chats.map((_chat, _index) => {\r\n//               return (\r\n//                 <div onClick={() => this.selectChat(_index)} key={_index} className={`individual-chat-container ${this.props.selectedChatIndex === _index ? 'selected-chat' : ''}`}>\r\n//                   <h5>{_chat.users.filter(_user => _user !== this.props.userEmail)[0]}</h5>\r\n//                   <p>{_chat.messages[_chat.messages.length - 1].message.substring(0, 30) + ' ...'}</p>\r\n//                 </div>\r\n//               )\r\n//             })\r\n//           }\r\n//         </div>\r\n//       );\r\n//     } else {\r\n//       return(\r\n//         <div className='chat-list-container'>\r\n//           <button onClick={this.newChat} className='add-new-chat-button'>New Message</button>\r\n//         </div>\r\n//       );\r\n//     }\r\n//   }\r\n//   newChat = () => this.props.newChatBtnFn();\r\n//   selectChat = (index) => this.props.selectChatFn(index);\r\n// }\r\n\r\n// export default ChatListComponent;\r\n","const styles = theme => ({\r\n\r\n  content: {\r\n    // height: 'calc(100vh - 100px)',\r\n    // overflow: 'auto',\r\n    // padding: '25px',\r\n    // marginLeft: '300px',\r\n    // boxSizing: 'border-box',\r\n    // overflowY: 'scroll',\r\n    // top: '50px',\r\n    // width: 'calc(100% - 300px)',\r\n    // position: 'absolute'\r\n  },\r\n\r\n  // userSent: {\r\n  //   float: 'left',\r\n  //   clear: 'both',\r\n  //   padding: '20px',\r\n  //   boxSizing: 'border-box',\r\n  //   wordWrap: 'break-word',\r\n  //   marginTop: '10px',\r\n  //   backgroundColor: '#707BC4',\r\n  //   color: 'white',\r\n  //   width: '300px',\r\n  //   borderRadius: '10px'\r\n  // },\r\n  //\r\n  // friendSent: {\r\n  //   float: 'right',\r\n  //   clear: 'both',\r\n  //   padding: '20px',\r\n  //   boxSizing: 'border-box',\r\n  //   wordWrap: 'break-word',\r\n  //   marginTop: '10px',\r\n  //   backgroundColor: '#707BC4',\r\n  //   color: 'white',\r\n  //   width: '300px',\r\n  //   borderRadius: '10px'\r\n  // },\r\n  //\r\n  // chatHeader: {\r\n  //   width: 'calc(100% - 301px)',\r\n  //   height: '50px',\r\n  //   backgroundColor: '#344195',\r\n  //   position: 'fixed',\r\n  //   marginLeft: '301px',\r\n  //   fontSize: '18px',\r\n  //   textAlign: 'center',\r\n  //   color: 'white',\r\n  //   paddingTop: '10px',\r\n  //   boxSizing: 'border-box'\r\n  // }\r\n\r\n});\r\n\r\nexport default styles;\r\n","import React from 'react';\r\nimport { Link } from 'react-router-dom';\r\nimport styles from './styles';\r\nimport '../assets/scss/chatview.scss';\r\nimport { ReactComponent as Back } from '../assets/icons/back.svg';\r\nimport { withStyles } from '@material-ui/core/styles';\r\n\r\nclass ChatViewComponent extends React.Component {\r\n\r\n  componentDidMount = () => {\r\n    const container = document.getElementById('chatview-container');\r\n    if(container)\r\n      container.scrollTo(0, container.scrollHeight);\r\n  }\r\n  componentDidUpdate = () => {\r\n    const container = document.getElementById('chatview-container');\r\n    if(container)\r\n      container.scrollTo(0, container.scrollHeight);\r\n  }\r\n\r\n  render() {\r\n\r\n    function refreshPage(){\r\n        window.location.reload(false);\r\n    }\r\n\r\n    const { classes } = this.props;\r\n\r\n    if(this.props.chat === undefined) {\r\n      return(<main className={classes.content}></main>);\r\n    } else if(this.props.chat !== undefined) {\r\n      return(\r\n        <div>\r\n          <div className=\"chatBack\"><Link onClick={refreshPage}><Back/></Link></div>\r\n          <div id=\"chatHeader\" className={classes.chatHeader}>\r\n            {this.props.chat.users.filter(_usr => _usr !== this.props.user)[0]}\r\n          </div>\r\n          <main id='chatview-container' className={classes.content}>\r\n            {\r\n              this.props.chat.messages.map((_msg, _index) => {\r\n                return(\r\n                <div key={_index} id={_msg.sender === this.props.user ? 'userSent' : 'friendSent'} className={_msg.sender === this.props.user ? classes.userSent : classes.friendSent}>\r\n                  {_msg.message}\r\n                </div>\r\n                )\r\n              })\r\n            }\r\n          </main>\r\n        </div>\r\n      );\r\n    } else {\r\n      return (<div className='chatview-container'>Loading...</div>);\r\n    }\r\n  }\r\n}\r\n\r\nexport default withStyles(styles)(ChatViewComponent);\r\n","const styles = theme => ({\r\n\r\n  sendBtn: {\r\n    color: 'blue',\r\n    cursor: 'pointer',\r\n    '&:hover': {\r\n      color: 'blue'\r\n    }\r\n  },\r\n\r\n  chatTextBoxContainer: {\r\n    // position: 'absolute',\r\n    // bottom: '15px',\r\n    // left: '315px',\r\n    // boxSizing: 'border-box',\r\n    // overflow: 'auto',\r\n    // width: 'calc(100% - 300px - 50px)'\r\n  },\r\n\r\n  chatTextBox: {\r\n    width: 'calc(100% - 50px)'\r\n  }\r\n\r\n});\r\n\r\nexport default styles;\r\n","import React from 'react';\r\nimport TextField from '@material-ui/core/TextField';\r\nimport Send from '@material-ui/icons/Send';\r\nimport styles from './styles';\r\nimport '../assets/scss/chattextbox.scss';\r\nimport { withStyles } from '@material-ui/core/styles';\r\n\r\nclass ChatTextBoxComponent extends React.Component {\r\n\r\n  constructor() {\r\n    super();\r\n    this.state = {\r\n      chatText: ''\r\n    };\r\n  }\r\n\r\n  render() {\r\n\r\n    const { classes } = this.props;\r\n\r\n    return(\r\n      <div id=\"chatTextBoxContainer\" className={classes.chatTextBoxContainer}>\r\n        <TextField\r\n          placeholder='Type your message..'\r\n          onKeyUp={(e) => this.userTyping(e)}\r\n          id='chattextbox'\r\n          className={classes.chatTextBox}\r\n          onFocus={this.userClickedInput}>\r\n        </TextField>\r\n        <Send onClick={this.submitMessage} className={classes.sendBtn}></Send>\r\n      </div>\r\n    );\r\n  }\r\n  userTyping = (e) => e.keyCode === 13 ? this.submitMessage() : this.setState({ chatText: e.target.value });\r\n  messageValid = (txt) => txt && txt.replace(/\\s/g, '').length;\r\n  userClickedInput = () => this.props.userClickedInputFn();\r\n  submitMessage = () => {\r\n    if(this.messageValid(this.state.chatText)) {\r\n      this.props.submitMessageFn(this.state.chatText);\r\n      document.getElementById('chattextbox').value = '';\r\n    }\r\n  }\r\n}\r\n\r\nexport default withStyles(styles)(ChatTextBoxComponent);\r\n","const styles = theme => ({\r\n  signOutBtn: {\r\n    // position: 'absolute',\r\n    // bottom: '0px',\r\n    // left: '0px',\r\n    // width: '300px',\r\n    // borderRadius: '0px',\r\n    // backgroundColor: '#707070',\r\n    // height: '35px',\r\n    // boxShadow: '0px 0px 2px black',\r\n    // color: 'white'\r\n  }\r\n});\r\n\r\nexport default styles;\r\n","import React from 'react';\r\nimport NewChatComponent from '../NewChat/newChat';\r\nimport ChatListComponent from '../ChatList/chatList';\r\nimport ChatViewComponent from '../ChatView/chatView';\r\nimport ChatTextBoxComponent from '../ChatTextBox/chatTextBox';\r\nimport styles from './styles';\r\nimport '../assets/scss/dashboard.scss';\r\nimport { Button, withStyles } from '@material-ui/core';\r\nconst firebase = require(\"firebase\");\r\n\r\n// I need to investigate why sometimes\r\n// two messages will send instead of just\r\n// one. I dont know if there are two instances\r\n// of the chat box component or what...\r\n\r\n// I will be using both .then and async/await\r\n// in this tutorial to give a feel of both.\r\n\r\nclass DashboardComponent extends React.Component {\r\n\r\n  constructor() {\r\n    super();\r\n    this.state = {\r\n      selectedChat: null,\r\n      newChatFormVisible: false,\r\n      email: null,\r\n      friends: [],\r\n      chats: []\r\n    };\r\n  }\r\n\r\n  render() {\r\n\r\n    const { classes } = this.props;\r\n\r\n    if(this.state.email) {\r\n      return(\r\n        <div className='dashboard-container' id='dashboard-container'>\r\n          <ChatListComponent history={this.props.history}\r\n            userEmail={this.state.email}\r\n            selectChatFn={this.selectChat}\r\n            chats={this.state.chats}\r\n            selectedChatIndex={this.state.selectedChat}\r\n            newChatBtnFn={this.newChatBtnClicked}>\r\n          </ChatListComponent>\r\n          {\r\n            this.state.newChatFormVisible ? null : <ChatViewComponent\r\n              user={this.state.email}\r\n              chat={this.state.chats[this.state.selectedChat]}>\r\n            </ChatViewComponent>\r\n          }\r\n          {\r\n            this.state.selectedChat !== null && !this.state.newChatFormVisible ? <ChatTextBoxComponent userClickedInputFn={this.messageRead} submitMessageFn={this.submitMessage}></ChatTextBoxComponent> : null\r\n          }\r\n          {\r\n            this.state.newChatFormVisible ? <NewChatComponent goToChatFn={this.goToChat} newChatSubmitFn={this.newChatSubmit}></NewChatComponent> : null\r\n          }\r\n          <Button onClick={this.signOut} id=\"signOutBtn\" className={classes.signOutBtn}>Sign Out</Button>\r\n        </div>\r\n      );\r\n    } else {\r\n      return(<div>LOADING....</div>);\r\n    }\r\n  }\r\n\r\n  signOut = () => firebase.auth().signOut();\r\n\r\n  submitMessage = (msg) => {\r\n    const docKey = this.buildDocKey(this.state.chats[this.state.selectedChat]\r\n      .users\r\n      .filter(_usr => _usr !== this.state.email)[0])\r\n    firebase\r\n      .firestore()\r\n      .collection('chats')\r\n      .doc(docKey)\r\n      .update({\r\n        messages: firebase.firestore.FieldValue.arrayUnion({\r\n          sender: this.state.email,\r\n          message: msg,\r\n          timestamp: Date.now()\r\n        }),\r\n        receiverHasRead: false\r\n      });\r\n  }\r\n\r\n  // Always in alphabetical order:\r\n  // 'user1:user2'\r\n  buildDocKey = (friend) => [this.state.email, friend].sort().join(':');\r\n\r\n  newChatBtnClicked = () => this.setState({ newChatFormVisible: true, selectedChat: null });\r\n\r\n  newChatSubmit = async (chatObj) => {\r\n    const docKey = this.buildDocKey(chatObj.sendTo);\r\n    await\r\n      firebase\r\n        .firestore()\r\n        .collection('chats')\r\n        .doc(docKey)\r\n        .set({\r\n          messages: [{\r\n            message: chatObj.message,\r\n            sender: this.state.email\r\n          }],\r\n          users: [this.state.email, chatObj.sendTo],\r\n          receiverHasRead: false\r\n        })\r\n    this.setState({ newChatFormVisible: false });\r\n    this.selectChat(this.state.chats.length - 1);\r\n  }\r\n\r\n  selectChat = async (chatIndex) => {\r\n    await this.setState({ selectedChat: chatIndex, newChatFormVisible: false });\r\n    this.messageRead();\r\n  }\r\n\r\n  goToChat = async (docKey, msg) => {\r\n    const usersInChat = docKey.split(':');\r\n    const chat = this.state.chats.find(_chat => usersInChat.every(_user => _chat.users.includes(_user)));\r\n    this.setState({ newChatFormVisible: false });\r\n    await this.selectChat(this.state.chats.indexOf(chat));\r\n    this.submitMessage(msg);\r\n  }\r\n\r\n  // Chat index could be different than the one we are currently on in the case\r\n  // that we are calling this function from within a loop such as the chatList.\r\n  // So we will set a default value and can overwrite it when necessary.\r\n  messageRead = () => {\r\n    const chatIndex = this.state.selectedChat;\r\n    const docKey = this.buildDocKey(this.state.chats[chatIndex].users.filter(_usr => _usr !== this.state.email)[0]);\r\n    if(this.clickedMessageWhereNotSender(chatIndex)) {\r\n      firebase\r\n        .firestore()\r\n        .collection('chats')\r\n        .doc(docKey)\r\n        .update({ receiverHasRead: true });\r\n    } else {\r\n      console.log('Clicked message where the user was the sender');\r\n    }\r\n  }\r\n\r\n  clickedMessageWhereNotSender = (chatIndex) => this.state.chats[chatIndex].messages[this.state.chats[chatIndex].messages.length - 1].sender !== this.state.email;\r\n\r\n  componentWillMount = () => {\r\n      firebase.auth().onAuthStateChanged(async _usr => {\r\n        if(!_usr)\r\n          this.props.history.push('/login');\r\n        else {\r\n          await firebase\r\n            .firestore()\r\n            .collection('chats')\r\n            .where('users', 'array-contains', _usr.email)\r\n            .onSnapshot(async res => {\r\n              const chats = res.docs.map(_doc => _doc.data());\r\n              await this.setState({\r\n                email: _usr.email,\r\n                chats: chats,\r\n                friends: []\r\n              });\r\n            })\r\n        }\r\n    });\r\n  }\r\n}\r\n\r\nexport default withStyles(styles)(DashboardComponent);\r\n","import React from 'react';\nimport ReactDOM from 'react-dom';\nimport './assets/scss/index.scss';\nimport logo from './assets/icons/logo-2.svg';\nimport { Route, Link, BrowserRouter as Router } from 'react-router-dom'\nimport * as serviceWorker from './serviceWorker';\nimport LoginComponent from './Login/login';\nimport SignupComponent from './Signup/signup';\nimport DashboardComponent from './Dashboard/dashboard';\n\nconst firebase = require(\"firebase\");\nrequire(\"firebase/firestore\"); // Required for side-effects?????\n\nfirebase.initializeApp({\n  apiKey: \"AIzaSyAGWlAc1AcTdD-YWtQ5x3U82I1uIA_jtuE\",\n  authDomain: \"chat-debf4.firebaseapp.com\",\n  databaseURL: \"https://chat-debf4.firebaseio.com\",\n  projectId: \"chat-debf4\",\n  storageBucket: \"chat-debf4.appspot.com\",\n  messagingSenderId: \"576487033453\",\n  appId: \"1:576487033453:web:bdc5ef396aaf5d08d78d64\",\n  measurementId: \"G-XLCCSNG0YE\"\n});\n\n\nconst routing = (\n  <Router>\n    <div className=\"container\" id='routing-container'>\n    <Route path='/signup'>\n      <div className=\"container__home\"><Link to=\"/\">Home</Link></div>\n    </Route>\n    <Route path='/login'>\n      <div className=\"container__home\"><Link to=\"/\">Home</Link></div>\n    </Route>\n    <Route exact path='/'>\n    <header>\n      <nav>\n        <ul>\n          <li>\n            <Link to=\"/signup\">Sign Up</Link>\n          </li>\n          <li>\n            <Link to=\"/login\">Login</Link>\n          </li>\n        </ul>\n      </nav>\n    </header>\n    </Route>\n\n    <Route exact path='/'>\n      <div className=\"home\">\n        <h1>CrisChat App</h1>\n        <div className=\"logo\"><img src={logo} alt=\"logo\"/></div>\n      </div>\n    </Route>\n\n    <Route path='/signup' component={SignupComponent}></Route>\n    <Route path='/login' component={LoginComponent}></Route>\n    <Route path='/dashboard' component={DashboardComponent}></Route>\n    </div>\n  </Router>\n)\n\nReactDOM.render(routing, document.getElementById('root'));\n\n// If you want your app to work offline and load faster, you can change\n// unregister() to register() below. Note this comes with some pitfalls.\n// Learn more about service workers: https://bit.ly/CRA-PWA\nserviceWorker.unregister();\n"],"sourceRoot":""}